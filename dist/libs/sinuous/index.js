import{subscribe as e,cleanup as t,root as r,sample as s}from"./observable.js";export{o,observable}from"./observable.js";import n from"./htm.js";let l={},i=[];function a(e){return this.t&&this.t[e.type](e)}l.h=(...e)=>{let t,r=s=>{if(null==s);else if("string"==typeof s)t?l.add(t,s):t=l.s?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s);else if(Array.isArray(s))t||(t=document.createDocumentFragment()),s.forEach(r);else if(s instanceof Node)t?l.add(t,s):t=s;else if("object"==typeof s)l.property(t,s,null,l.s);else if("function"==typeof s)if(t){let e=l.add(t,"");l.insert(t,s,e)}else t=s.apply(null,e.splice(1));else l.add(t,""+s)};return e.forEach(r),t},l.insert=(e,t,r,s,o)=>(e=r&&r.parentNode||e,o=o||s instanceof Node&&s,t===s||(s&&"string"!=typeof s||!("string"==typeof t||"number"==typeof t&&(t+=""))?"function"==typeof t?l.subscribe((()=>{s=l.insert(e,t.call({el:e,endMark:r}),r,s,o)})):(r?s&&(o||(o=s.o&&s.o.nextSibling||r.previousSibling),l.rm(e,o,r)):e.textContent="",s=null,t&&!0!==t&&(s=l.add(e,t,r))):(null!=s&&e.firstChild?r?(r.previousSibling||e.lastChild).data=t:e.firstChild.data=t:r?l.add(e,t,r):e.textContent=t,s=t)),s),l.property=(e,t,r,s,o)=>{if(null!=t)if(!r||"attrs"===r&&(s=!0))for(r in t)l.property(e,t[r],r,s,o);else"o"!==r[0]||"n"!==r[1]||t.$o?"function"==typeof t?l.subscribe((()=>{l.property(e,t.call({el:e,name:r}),r,s,o)})):o?e.style.setProperty(r,t):s||"data-"===r.slice(0,5)||"aria-"===r.slice(0,5)?e.setAttribute(r,t):"style"===r?"string"==typeof t?e.style.cssText=t:l.property(e,t,null,s,!0):("class"===r&&(r+="Name"),e[r]=t):((e,t,r)=>{t=t.slice(2).toLowerCase(),r?e.addEventListener(t,a):e.removeEventListener(t,a),(e.t||(e.t={}))[t]=r})(e,r,t)},l.add=(e,t,r)=>{let s=(e=>{const{childNodes:t}=e;if(t&&11===e.nodeType)return t.length<2?t[0]:{o:l.add(e,"",t[0])}})(t=(e=>"string"==typeof e?document.createTextNode(e):e instanceof Node?e:l.h(i,e))(t))||t;return e.insertBefore(t,r&&r.parentNode&&r),s},l.rm=(e,t,r)=>{for(;t&&t!==r;){let r=t.nextSibling;e===t.parentNode&&e.removeChild(t),t=r}},l.subscribe=e,l.cleanup=t,l.root=r,l.sample=s,l.hs=(...e)=>{let t=l.s;l.s=!0;let r=p(...e);return l.s=t,r};let p=(...e)=>l.h.apply(l.h,e),d=(...e)=>l.hs.apply(l.hs,e),f=(...e)=>n.apply(p,e),c=(...e)=>n.apply(d,e);export{l as api,p as h,d as hs,f as html,c as svg};
