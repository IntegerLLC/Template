import{api as e}from"./index.js";let t;function n(e){return o(e,!0)}function o(n,o,r){let l=function(){const{el:l,name:i,endMark:c}=this,u=(t,n,o,r)=>{if(null==o){let o=n||t;o.t=e.insert(t,r,n,o.t)}else e.property(t,r,o)};u.o=l,u.u=c,u.l=i,u.i=n,u.s=o,u.m=r,t.push(u)};return l.$o=2,l}function r(n,o){let r=t;t=[];let c=n(),u=t;t=r;let a=c.content||c.parentNode&&c;a||(a=document.createDocumentFragment(),a.appendChild(c));let d=a.cloneNode(!0);function f(t,n){!1!==n&&!0!==n||(o=n);let r,l={};return o?(a.p&&a.p.forEach((e=>a.appendChild(e))),r=a):r=d.cloneNode(!0),r.firstChild&&(r.firstChild.props=t),u.forEach((e=>{e.A=o?e.o:i(r,e.g),e.h=o?e.u:e.j&&i(e.A,e.j)})),u.forEach((n=>{e.action(n,t,l)(n.i,n.l)})),a.p=Array.from(a.childNodes),r}return o||u.forEach((e=>{e.g=l(a,e.o),e.j=e.u&&l(e.o,e.u)})),f.$t=!0,f}function l(e,t){let n,o=[];for(;(n=t.parentNode)!==e.parentNode;)o.unshift(Array.from(n.childNodes).indexOf(t)),t=n;return o}function i(e,t){return t.forEach((t=>e=e.childNodes[t])),e}e.action=(e,t,n)=>{let o=e.A;return(r,l)=>{let i=t[r];null!=i&&e(o,e.h,l,i),e.s&&(n[r]||(n[r]=[],Object.defineProperty(t,r,{get:()=>e.m?l in o?o[l]:o:i,set(e){i=e,n[r].forEach((t=>t(e)))}})),n[r].push(e.bind(null,o,e.h,l)))}};export{n as o,o as t,r as template};
