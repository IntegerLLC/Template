function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e??n.path)}},n.exports),n.exports}function n(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(t){return this instanceof a?(this.v=t,this):new a(t)}var f=Object.freeze({__proto__:null,__extends:function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},get __assign(){return i},__rest:function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},__decorate:function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},__param:function(t,e){return function(n,r){e(n,r,t)}},__metadata:function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter:function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{f(r.next(t))}catch(t){o(t)}}function a(t){try{f(r.throw(t))}catch(t){o(t)}}function f(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}f((r=r.apply(t,e||[])).next())}))},__generator:function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__createBinding:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},__exportStar:function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])},__values:o,__read:s,__spread:function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},__spreadArrays:function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},__await:a,__asyncGenerator:function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||f(t,e)}))})}function f(t,e){try{(n=i[t](e)).value instanceof a?Promise.resolve(n.value.v).then(u,c):p(o[0][2],n)}catch(t){p(o[0][3],t)}var n}function u(t){f("next",t)}function c(t){f("throw",t)}function p(t,e){t(e),o.shift(),o.length&&f(o[0][0],o[0][1])}},__asyncDelegator:function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:a(t[r](e)),done:"return"===r}:i?i(e):e}:i}},__asyncValues:function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=o(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}},__makeTemplateObject:function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__importStar:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},__importDefault:function(t){return t&&t.__esModule?t:{default:t}},__classPrivateFieldGet:function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet:function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}}),u=e((function(t,e){function n(t,e){return function(n){var r=new DataView(new ArrayBuffer(t));return e.call(r,0,n,!0),r}}Object.defineProperty(e,"__esModule",{value:!0}),e.getFloat32Mask=n(4,DataView.prototype.setFloat32),e.getFloat64Mask=n(8,DataView.prototype.setFloat64),e.getInt16Mask=n(2,DataView.prototype.setInt16),e.getInt32Mask=n(4,DataView.prototype.setInt32),e.getInt8Mask=n(1,DataView.prototype.setInt8),e.getUint16Mask=n(2,DataView.prototype.setUint16),e.getUint32Mask=n(4,DataView.prototype.setUint32),e.getUint8Mask=n(1,DataView.prototype.setUint8),e.getBitMask=function(t,e){var n=new DataView(new ArrayBuffer(1));return t?(n.setUint8(0,1<<e%8),n):n},e.getInt64Mask=function(t){return t.toDataView()},e.getUint64Mask=function(t){return t.toDataView()}})),c=e((function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.ListElementSize||(e.ListElementSize={}))[n.VOID=0]="VOID",n[n.BIT=1]="BIT",n[n.BYTE=2]="BYTE",n[n.BYTE_2=3]="BYTE_2",n[n.BYTE_4=4]="BYTE_4",n[n.BYTE_8=5]="BYTE_8",n[n.POINTER=6]="POINTER",n[n.COMPOSITE=7]="COMPOSITE",e.ListElementOffset=[0,.125,1,2,4,8,8,NaN]})),p=1e3,g=60*p,l=60*g,y=24*l,d=365.25*y,_=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t+="").length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*y;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*g;case"seconds":case"second":case"secs":case"sec":case"s":return n*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&!1===isNaN(t))return e.long?function(t){return h(t,y,"day")||h(t,l,"hour")||h(t,g,"minute")||h(t,p,"second")||t+" ms"}(t):function(t){if(t>=y)return Math.round(t/y)+"d";if(t>=l)return Math.round(t/l)+"h";if(t>=g)return Math.round(t/g)+"m";if(t>=p)return Math.round(t/p)+"s";return t+"ms"}(t);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function h(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var m=e((function(t,e){var n;function r(t){function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var f=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;f++;var i=e.formatters[r];if("function"==typeof i){var o=s[f];n=i.call(t,o),s.splice(f,1),f--}return n})),e.formatArgs.call(t,s);var u=r.log||e.log||void 0;u.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"==typeof e.init&&e.init(r),r}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(t=n[i].replace(/\*/g,".*?"))[0]?e.skips.push(RegExp("^"+t.substr(1)+"$")):e.names.push(RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=_,e.names=[],e.skips=[],e.formatters={}})),T=e((function(t,e){function n(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=m).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=n,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(n())})),L=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=new DataView(new ArrayBuffer(8));new Uint16Array(n.buffer)[0]=258,e.DEFAULT_BUFFER_SIZE=4096,e.DEFAULT_DECODE_LIMIT=64<<20,e.DEFAULT_DEPTH_LIMIT=64,e.DEFAULT_TRAVERSE_LIMIT=64<<20,e.GROWTH_FACTOR=1.5,e.LIST_SIZE_MASK=7,e.MAX_BUFFER_DUMP_BYTES=8192,e.MAX_INT32=2147483647,e.MAX_UINT32=4294967295,e.MAX_SAFE_INTEGER=9007199254740991,e.MAX_STREAM_SEGMENTS=512,e.MIN_SAFE_INTEGER=-9007199254740991,e.MIN_SINGLE_SEGMENT_GROWTH=4096,e.NATIVE_LITTLE_ENDIAN=2===n.getUint8(0),e.PACK_SPAN_THRESHOLD=2,e.POINTER_COPY_LIMIT=32,e.POINTER_DOUBLE_FAR_MASK=4,e.POINTER_TYPE_MASK=3,e.VAL32=4294967296,e.MAX_DEPTH=e.MAX_INT32,e.MAX_SEGMENT_LENGTH=e.MAX_UINT32})),E=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:errors")("load"),e.INVARIANT_UNREACHABLE_CODE="CAPNP-TS000 Unreachable code detected.",e.assertNever=function(t){throw Error(e.INVARIANT_UNREACHABLE_CODE+" (never block hit with: "+t+")")},e.MSG_INVALID_FRAME_HEADER="CAPNP-TS001 Attempted to parse an invalid message frame header; are you sure this is a Cap'n Proto message?",e.MSG_NO_SEGMENTS_IN_ARENA="CAPNP-TS002 Attempted to preallocate a message with no segments in the arena.",e.MSG_PACK_NOT_WORD_ALIGNED="CAPNP-TS003 Attempted to pack a message that was not word-aligned.",e.MSG_SEGMENT_OUT_OF_BOUNDS="CAPNP-TS004 Segment ID %X is out of bounds for message %s.",e.MSG_SEGMENT_TOO_SMALL="CAPNP-TS005 First segment must have at least enough room to hold the root pointer (8 bytes).",e.NOT_IMPLEMENTED="CAPNP-TS006 %s is not implemented.",e.PTR_ADOPT_COMPOSITE_STRUCT="CAPNP-TS007 Attempted to adopt a struct into a composite list (%s).",e.PTR_ADOPT_WRONG_MESSAGE="CAPNP-TS008 Attempted to adopt %s into a pointer in a different message %s.",e.PTR_ALREADY_ADOPTED="CAPNP-TS009 Attempted to adopt %s more than once.",e.PTR_COMPOSITE_SIZE_UNDEFINED="CAPNP-TS010 Attempted to set a composite list without providing a composite element size.",e.PTR_DEPTH_LIMIT_EXCEEDED="CAPNP-TS011 Nesting depth limit exceeded for %s.",e.PTR_DISOWN_COMPOSITE_STRUCT="CAPNP-TS012 Attempted to disown a struct member from a composite list (%s).",e.PTR_INIT_COMPOSITE_STRUCT="CAPNP-TS013 Attempted to initialize a struct member from a composite list (%s).",e.PTR_INIT_NON_GROUP="CAPNP-TS014 Attempted to initialize a group field with a non-group struct class.",e.PTR_INVALID_FAR_TARGET="CAPNP-TS015 Target of a far pointer (%s) is another far pointer.",e.PTR_INVALID_LIST_SIZE="CAPNP-TS016 Invalid list element size: %x.",e.PTR_INVALID_POINTER_TYPE="CAPNP-TS017 Invalid pointer type: %x.",e.PTR_INVALID_UNION_ACCESS="CAPNP-TS018 Attempted to access getter on %s for union field %s that is not currently set (wanted: %d, found: %d).",e.PTR_OFFSET_OUT_OF_BOUNDS="CAPNP-TS019 Pointer offset %a is out of bounds for underlying buffer.",e.PTR_STRUCT_DATA_OUT_OF_BOUNDS="CAPNP-TS020 Attempted to access out-of-bounds struct data (struct: %s, %d bytes at %a, data words: %d).",e.PTR_STRUCT_POINTER_OUT_OF_BOUNDS="CAPNP-TS021 Attempted to access out-of-bounds struct pointer (%s, index: %d, length: %d).",e.PTR_TRAVERSAL_LIMIT_EXCEEDED="CAPNP-TS022 Traversal limit exceeded! Slow down! %s",e.PTR_WRONG_LIST_TYPE="CAPNP-TS023 Cannot convert %s to a %s list.",e.PTR_WRONG_POINTER_TYPE="CAPNP-TS024 Attempted to convert pointer %s to a %s type.",e.PTR_WRONG_COMPOSITE_DATA_SIZE="CAPNP-TS025 Attempted to convert %s to a composite list with the wrong data size (found: %d).",e.PTR_WRONG_COMPOSITE_PTR_SIZE="CAPNP-TS026 Attempted to convert %s to a composite list with the wrong pointer size (found: %d).",e.PTR_WRONG_STRUCT_DATA_SIZE="CAPNP-TS027 Attempted to convert %s to a struct with the wrong data size (found: %d).",e.PTR_WRONG_STRUCT_PTR_SIZE="CAPNP-TS028 Attempted to convert %s to a struct with the wrong pointer size (found: %d).",e.RANGE_INT32_OVERFLOW="CAPNP-TS029 32-bit signed integer overflow detected.",e.RANGE_INT64_UNDERFLOW="CAPNP-TS030 Buffer is not large enough to hold a word.",e.RANGE_INVALID_UTF8="CAPNP-TS031 Invalid UTF-8 code sequence detected.",e.RANGE_SIZE_OVERFLOW="CAPNP-TS032 Size %x exceeds maximum "+L.MAX_SEGMENT_LENGTH.toString(16)+".",e.RANGE_UINT32_OVERFLOW="CAPNP-TS033 32-bit unsigned integer overflow detected.",e.SEG_BUFFER_NOT_ALLOCATED="CAPNP-TS034 allocate() needs to be called at least once before getting a buffer.",e.SEG_GET_NON_ZERO_SINGLE="CAPNP-TS035 Attempted to get a segment other than 0 (%d) from a single segment arena.",e.SEG_ID_OUT_OF_BOUNDS="CAPNP-TS036 Attempted to get an out-of-bounds segment (%d).",e.SEG_NOT_WORD_ALIGNED="CAPNP-TS037 Segment buffer length %d is not a multiple of 8.",e.SEG_REPLACEMENT_BUFFER_TOO_SMALL="CAPNP-TS038 Attempted to replace a segment buffer with one that is smaller than the allocated space.",e.SEG_SIZE_OVERFLOW="CAPNP-TS039 Requested size %x exceeds maximum value ("+L.MAX_SEGMENT_LENGTH+").",e.TYPE_COMPOSITE_SIZE_UNDEFINED="CAPNP-TS040 Must provide a composite element size for composite list pointers.",e.TYPE_GET_GENERIC_LIST="CAPNP-TS041 Attempted to call get() on a generic list.",e.TYPE_SET_GENERIC_LIST="CAPNP-TS042 Attempted to call set() on a generic list.",e.PTR_WRITE_CONST_LIST="CAPNP-TS043 Attempted to write to a const list.",e.PTR_WRITE_CONST_STRUCT="CAPNP-TS044 Attempted to write to a const struct."})),v=e((function(t,e){function n(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,o,s,a=t.length,f=0,u=!1,c=0,p=!1,g="";function l(){return e[f++]}function y(){for(var e="";/\d/.test(t[c]);)e+=t[c++],o=t[c];return e.length>0?parseInt(e,10):null}for(;c<a;++c)if(o=t[c],u)switch(u=!1,"."===o?(p=!1,o=t[++c]):"0"===o&&"."===t[c+1]?(p=!0,o=t[c+=2]):p=!0,s=y(),o){case"a":g+="0x"+r(parseInt(l(),10).toString(16),8);break;case"b":g+=parseInt(l(),10).toString(2);break;case"c":g+="string"==typeof(i=l())||i instanceof String?i:String.fromCharCode(parseInt(i,10));break;case"d":g+=parseInt(l(),10);break;case"f":var d=parseFloat(l()).toFixed(s||6)+"";g+=p?d:d.replace(/^0/,"");break;case"j":g+=JSON.stringify(l());break;case"o":g+="0"+parseInt(l(),10).toString(8);break;case"s":g+=l();break;case"x":g+="0x"+parseInt(l(),10).toString(16);break;case"X":g+="0x"+parseInt(l(),10).toString(16).toUpperCase();break;default:g+=o}else"%"===o?u=!0:g+=o;return g}function r(t,e,n){return void 0===n&&(n="0"),t.length>=e?t:Array(e-t.length+1).join(n)+t}function i(t,e){var n="",r=t,i=e;if(r<1||r>Number.MAX_VALUE)return n;do{r%2&&(n+=i),(r=Math.floor(r/2))&&(i+=i)}while(r);return n}Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:util")("load"),e.bufferToHex=function(t){for(var e=new Uint8Array(t),n=[],i=0;i<e.byteLength;i++)n.push(r(e[i].toString(16),2));return"["+n.join(" ")+"]"},e.checkInt32=function(t){if(t>L.MAX_INT32||t<-L.MAX_INT32)throw new RangeError(E.RANGE_INT32_OVERFLOW);return t},e.checkUint32=function(t){if(t<0||t>L.MAX_UINT32)throw new RangeError(E.RANGE_UINT32_OVERFLOW);return t},e.decodeUtf8=function(t){for(var e=t.byteLength,n="",r=0,i=0,o=0;r<e;){if(0==(128&(o=t[r++])))i=o;else if(192==(224&o)){if(r>=e)throw new RangeError(E.RANGE_INVALID_UTF8);i=(31&o)<<6|63&t[r++]}else if(224==(240&o)){if(r+1>=e)throw new RangeError(E.RANGE_INVALID_UTF8);i=(15&o)<<12|(63&t[r++])<<6|63&t[r++]}else{if(240!=(248&o))throw new RangeError(E.RANGE_INVALID_UTF8);if(r+2>=e)throw new RangeError(E.RANGE_INVALID_UTF8);i=(7&o)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++]}if(i<=55295||i>=57344&&i<=65535)n+=String.fromCharCode(i);else{var s=55296+((i-=65536)>>>10),a=56320+(1023&i);if(s<55296||s>56319)throw new RangeError(E.RANGE_INVALID_UTF8);n+=String.fromCharCode(s,a)}}return n},e.dumpBuffer=function(t){for(var e=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength),o=Math.min(e.byteLength,L.MAX_BUFFER_DUMP_BYTES),s=n("\n=== buffer[%d] ===",o),a=0;a<o;a+=16){s+="\n"+r(a.toString(16),8)+": ";var f="",u=void 0;for(u=0;u<16&&a+u<e.byteLength;u++){var c=e[a+u];s+=r(c.toString(16),2)+" ",f+=c>31&&c<255?String.fromCharCode(c):"Â·",7===u&&(s+=" ")}s+=""+i(3*(17-u)," ")+f}return s+="\n",o!==e.byteLength&&(s+=n("=== (truncated %d bytes) ===\n",e.byteLength-o)),s},e.encodeUtf8=function(t){for(var e=t.length,n=new Uint8Array(new ArrayBuffer(4*e)),r=0,i=0;i<e;i++){var o=t.charCodeAt(i);if(o<=127)n[r++]=o;else if(o<=2047)n[r++]=192|o>>>6,n[r++]=128|o>>>0&63;else if(o<=55295||o>=57344)n[r++]=224|o>>>12,n[r++]=128|o>>>6&63,n[r++]=128|o>>>0&63;else{if(i+1>=e)throw new RangeError(E.RANGE_INVALID_UTF8);var s=65536+(o-55296<<10|t.charCodeAt(++i)-56320);n[r++]=240|s>>>18,n[r++]=128|s>>>12&63,n[r++]=128|s>>>6&63,n[r++]=128|s>>>0&63}}return n.subarray(0,r)},e.format=n,e.identity=function(t){return t},e.pad=r,e.padToWord=function(t){return t+7&-8},e.repeat=i,T.default.formatters.h=function(t){return t.toString("hex")},T.default.formatters.x=function(t){return"0x"+t.toString(16)},T.default.formatters.a=function(t){return"0x"+r(t.toString(16),8)},T.default.formatters.X=function(t){return"0x"+t.toString(16).toUpperCase()}})),b=e((function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.ArenaKind||(e.ArenaKind={}))[n.SINGLE_SEGMENT=0]="SINGLE_SEGMENT",n[n.MULTI_SEGMENT=1]="MULTI_SEGMENT"})),S=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:serialization:arena:arena-allocation-result");n("load");var r=function(t,e){this.id=t,this.buffer=e,n("new",this)};e.ArenaAllocationResult=r})),O=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:arena:multi");n("load");var r=function(){function t(t){void 0===t&&(t=[]),this.kind=b.ArenaKind.MULTI_SEGMENT,this.buffers=t,n("new %s",this)}return t.prototype.toString=function(){return v.format("MultiSegmentArena_segments:%d",s(this))},t.allocate=i,t.getBuffer=o,t.getNumSegments=s,t}();function i(t,e){var n=new ArrayBuffer(v.padToWord(Math.max(t,L.DEFAULT_BUFFER_SIZE)));return e.buffers.push(n),new S.ArenaAllocationResult(e.buffers.length-1,n)}function o(t,e){if(t<0||t>=e.buffers.length)throw Error(v.format(E.SEG_ID_OUT_OF_BOUNDS,t));return e.buffers[t]}function s(t){return t.buffers.length}e.MultiSegmentArena=r,e.allocate=i,e.getBuffer=o,e.getNumSegments=s})),I=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:arena:single");n("load");var r=function(){function t(t){if(void 0===t&&(t=new ArrayBuffer(L.DEFAULT_BUFFER_SIZE)),this.kind=b.ArenaKind.SINGLE_SEGMENT,0!=(7&t.byteLength))throw Error(v.format(E.SEG_NOT_WORD_ALIGNED,t.byteLength));this.buffer=t,n("new %s",this)}return t.prototype.toString=function(){return v.format("SingleSegmentArena_len:%x",this.buffer.byteLength)},t.allocate=i,t.getBuffer=o,t.getNumSegments=s,t}();function i(t,e,r){n("Allocating %x bytes for segment 0 in %s.",t,r);var i=e.length>0?e[0].buffer:r.buffer;return t=t<L.MIN_SINGLE_SEGMENT_GROWTH?L.MIN_SINGLE_SEGMENT_GROWTH:v.padToWord(t),r.buffer=new ArrayBuffer(i.byteLength+t),new Float64Array(r.buffer).set(new Float64Array(i)),new S.ArenaAllocationResult(0,r.buffer)}function o(t,e){if(0!==t)throw Error(v.format(E.SEG_GET_NON_ZERO_SINGLE,t));return e.buffer}function s(){return 1}e.SingleSegmentArena=r,e.allocate=i,e.getBuffer=o,e.getNumSegments=s})),A=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:arena")("load");var n=function(){function t(){}return t.allocate=r,t.getBuffer=i,t.getNumSegments=o,t}();function r(t,e,n){switch(n.kind){case b.ArenaKind.MULTI_SEGMENT:return O.MultiSegmentArena.allocate(t,n);case b.ArenaKind.SINGLE_SEGMENT:return I.SingleSegmentArena.allocate(t,e,n);default:return E.assertNever(n)}}function i(t,e){switch(e.kind){case b.ArenaKind.MULTI_SEGMENT:return O.MultiSegmentArena.getBuffer(t,e);case b.ArenaKind.SINGLE_SEGMENT:return I.SingleSegmentArena.getBuffer(t,e);default:return E.assertNever(e)}}function o(t){switch(t.kind){case b.ArenaKind.MULTI_SEGMENT:return O.MultiSegmentArena.getNumSegments(t);case b.ArenaKind.SINGLE_SEGMENT:return I.SingleSegmentArena.getNumSegments();default:return E.assertNever(t)}}e.Arena=n,e.allocate=r,e.getBuffer=i,e.getNumSegments=o})),P=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Arena=A.Arena,e.ArenaKind=b.ArenaKind,e.MultiSegmentArena=O.MultiSegmentArena,e.SingleSegmentArena=I.SingleSegmentArena})),N=e((function(t,e){function n(t){var e=t-(t>>1&1431655765);return 16843009*((e=(858993459&e)+(e>>2&858993459))+(e>>4)&252645135)>>24}function r(t,e,n,r,i,o,s,a){return(0===t?0:1)|(0===e?0:2)|(0===n?0:4)|(0===r?0:8)|(0===i?0:16)|(0===o?0:32)|(0===s?0:64)|(0===a?0:128)}function i(t){for(var e=new Uint8Array(t),r=0,i=119,o=0;o<e.byteLength;){var s=e[o];0===i?(r+=s,o++,i=119):255===i?(r+=s,o+=8*s+1,i=119):(r++,o+=n(s)+1,i=s)}return 8*r}function o(t,e,n,r,i,o,s,a){return(0===t?1:0)+(0===e?1:0)+(0===n?1:0)+(0===r?1:0)+(0===i?1:0)+(0===o?1:0)+(0===s?1:0)+(0===a?1:0)}Object.defineProperty(e,"__esModule",{value:!0}),e.getHammingWeight=n,e.getTagByte=r,e.getUnpackedByteLength=i,e.getZeroByteCount=o,e.pack=function(t,e,n){if(void 0===e&&(e=0),t.byteLength%8!=0)throw Error(E.MSG_PACK_NOT_WORD_ALIGNED);for(var i=new Uint8Array(t,e,n),s=[],a=119,f=NaN,u=0,c=L.PACK_SPAN_THRESHOLD,p=0;p<i.byteLength;p+=8){var g=i[p],l=i[p+1],y=i[p+2],d=i[p+3],_=i[p+4],h=i[p+5],m=i[p+6],T=i[p+7],v=r(g,l,y,d,_,h,m,T),b=!0;switch(a){case 0:0!==v||u>=255?(s.push(u),u=0,b=!1):u++;break;case 255:(c-=o(g,l,y,d,_,h,m,T))<=0||u>=255?(s[f]=u,u=0,c=L.PACK_SPAN_THRESHOLD,b=!1):(s.push(g,l,y,d,_,h,m,T),u++);break;default:b=!1}b||(s.push(v),a=v,0!==g&&s.push(g),0!==l&&s.push(l),0!==y&&s.push(y),0!==d&&s.push(d),0!==_&&s.push(_),0!==h&&s.push(h),0!==m&&s.push(m),0!==T&&s.push(T),255===v&&(f=s.length,s.push(0)))}return 0===a?s.push(u):255===a&&(s[f]=u),new Uint8Array(s).buffer},e.unpack=function(t){for(var e=new Uint8Array(t),n=new Uint8Array(new ArrayBuffer(i(t))),r=119,o=0,s=0;o<e.byteLength;){var a=e[o];if(0===r)s+=8*a,o++,r=119;else if(255===r){var f=8*a;n.set(e.subarray(o+1,o+1+f),s),s+=f,o+=1+f,r=119}else{o++;for(var u=1;u<=128;u<<=1)0!=(a&u)&&(n[s]=e[o++]),s++;r=a}}return n.buffer}})),U=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:object-size")("load");var n=function(){function t(t,e){this.dataByteLength=t,this.pointerLength=e}return t.prototype.toString=function(){return v.format("ObjectSize_dw:%d,pc:%d",r(this),this.pointerLength)},t}();function r(t){return t.dataByteLength/8}e.ObjectSize=n,e.getByteLength=function(t){return t.dataByteLength+8*t.pointerLength},e.getDataWordLength=r,e.getWordLength=function(t){return t.dataByteLength/8+t.pointerLength},e.padToWord=function(t){return new n(v.padToWord(t.dataByteLength),t.pointerLength)}})),w=e((function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.PointerType||(e.PointerType={}))[n.STRUCT=0]="STRUCT",n[n.LIST=1]="LIST",n[n.FAR=2]="FAR",n[n.OTHER=3]="OTHER"})),M=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:orphan");n("load");var r=function(){function t(t){var e=C.getContent(t);switch(this.segment=e.segment,this.byteOffset=e.byteOffset,this._capnp={},this._capnp.type=C.getTargetPointerType(t),this._capnp.type){case w.PointerType.STRUCT:this._capnp.size=C.getTargetStructSize(t);break;case w.PointerType.LIST:this._capnp.length=C.getTargetListLength(t),this._capnp.elementSize=C.getTargetListElementSize(t),this._capnp.elementSize===c.ListElementSize.COMPOSITE&&(this._capnp.size=C.getTargetCompositeListSize(t));break;case w.PointerType.OTHER:this._capnp.capId=C.getCapabilityId(t);break;default:throw Error(E.PTR_INVALID_POINTER_TYPE)}C.erasePointer(t)}return t.prototype._moveTo=function(t){if(void 0===this._capnp)throw Error(v.format(E.PTR_ALREADY_ADOPTED,this));if(this.segment.message!==t.segment.message)throw Error(v.format(E.PTR_ADOPT_WRONG_MESSAGE,this,t));C.erase(t);var e=C.initPointer(this.segment,this.byteOffset,t);switch(this._capnp.type){case w.PointerType.STRUCT:C.setStructPointer(e.offsetWords,this._capnp.size,e.pointer);break;case w.PointerType.LIST:var n=e.offsetWords;this._capnp.elementSize===c.ListElementSize.COMPOSITE&&n--,C.setListPointer(n,this._capnp.elementSize,this._capnp.length,e.pointer,this._capnp.size);break;case w.PointerType.OTHER:C.setInterfacePointer(this._capnp.capId,e.pointer);break;default:throw Error(E.PTR_INVALID_POINTER_TYPE)}this._capnp=void 0},t.prototype.dispose=function(){if(void 0!==this._capnp){switch(this._capnp.type){case w.PointerType.STRUCT:this.segment.fillZeroWords(this.byteOffset,U.getWordLength(this._capnp.size));break;case w.PointerType.LIST:var t=C.getListByteLength(this._capnp.elementSize,this._capnp.length,this._capnp.size);this.segment.fillZeroWords(this.byteOffset,t)}this._capnp=void 0}else n("not disposing an already disposed orphan",this)},t.prototype.toString=function(){return v.format("Orphan_%d@%a,type:%s",this.segment.id,this.byteOffset,this._capnp&&this._capnp.type)},t}();e.Orphan=r})),R=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:pointer-allocation-result")("load");var n=function(t,e){this.pointer=t,this.offsetWords=e};e.PointerAllocationResult=n})),C=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:pointer");n("load");var r=function(){function t(t,e,r){if(void 0===r&&(r=L.MAX_DEPTH),this._capnp={compositeList:!1,depthLimit:r},this.segment=t,this.byteOffset=e,0===r)throw Error(v.format(E.PTR_DEPTH_LIMIT_EXCEEDED,this));if(H(t.message,this),e<0||e>t.byteLength)throw Error(v.format(E.PTR_OFFSET_OUT_OF_BOUNDS,e));n("new %s",this)}return t.prototype.toString=function(){return v.format("Pointer_%d@%a,%s,limit:%x",this.segment.id,this.byteOffset,s(this),this._capnp.depthLimit)},t.adopt=i,t.copyFrom=u,t.disown=o,t.dump=s,t.isNull=V,t._capnp={displayName:"Pointer"},t}();function i(t,e){t._moveTo(e)}function o(t){return new M.Orphan(t)}function s(t){return v.bufferToHex(t.segment.buffer.slice(t.byteOffset,t.byteOffset+8))}function a(t){switch(t){case c.ListElementSize.BIT:return NaN;case c.ListElementSize.BYTE:return 1;case c.ListElementSize.BYTE_2:return 2;case c.ListElementSize.BYTE_4:return 4;case c.ListElementSize.BYTE_8:case c.ListElementSize.POINTER:return 8;case c.ListElementSize.COMPOSITE:return NaN;case c.ListElementSize.VOID:return 0;default:throw Error(v.format(E.PTR_INVALID_LIST_SIZE,t))}}function f(t,e){return new r(e.segment,e.byteOffset+t,e._capnp.depthLimit)}function u(t,e){if(e.segment!==t.segment||e.byteOffset!==t.byteOffset){if(p(e),!V(t))switch(B(t)){case w.PointerType.STRUCT:Y(t,e);break;case w.PointerType.LIST:j(t,e);break;default:throw Error(v.format(E.PTR_INVALID_POINTER_TYPE,B(e)))}}else n("ignoring copy operation from identical pointer %s",t)}function p(t){if(!V(t)){var e;switch(B(t)){case w.PointerType.STRUCT:var n=F(t);(e=d(t)).segment.fillZeroWords(e.byteOffset,n.dataByteLength/8);for(var i=0;i<n.pointerLength;i++)p(f(8*i,e));break;case w.PointerType.LIST:var o=C(t),s=D(t),u=v.padToWord(s*a(o));if(e=d(t),o===c.ListElementSize.POINTER){for(i=0;i<s;i++)p(new r(e.segment,e.byteOffset+8*i,t._capnp.depthLimit-1));break}if(o===c.ListElementSize.COMPOSITE){var l=f(-8,e),y=A(l),_=U.getByteLength(y);u=b(l),e.segment.setWordZero(e.byteOffset-8);for(i=0;i<s;i++)for(var h=0;h<y.pointerLength;h++)p(new r(e.segment,e.byteOffset+i*_+8*h,t._capnp.depthLimit-1))}e.segment.fillZeroWords(e.byteOffset,u);break;case w.PointerType.OTHER:break;default:throw Error(v.format(E.PTR_INVALID_POINTER_TYPE,B(t)))}g(t)}}function g(t){if(S(t)===w.PointerType.FAR){var e=l(t);x(t)&&e.segment.setWordZero(e.byteOffset+8),e.segment.setWordZero(e.byteOffset)}t.segment.setWordZero(t.byteOffset)}function l(t){var e=t.segment.message.getSegment(t.segment.getUint32(t.byteOffset+4)),n=t.segment.getUint32(t.byteOffset)>>>3;return new r(e,8*n,t._capnp.depthLimit-1)}function y(t){if(S(t)===w.PointerType.FAR){var e=l(t);return x(t)&&(e.byteOffset+=8),e}return t}function d(t,e){var n;if(x(t)){var i=l(t);n=new r(t.segment.message.getSegment(_(i)),8*b(i))}else{var o=y(t);n=new r(o.segment,o.byteOffset+8+8*b(o))}return function(t){return B(t)===w.PointerType.LIST&&C(t)===c.ListElementSize.COMPOSITE}(t)&&(n.byteOffset+=8),e||void 0===t._capnp.compositeIndex||(n.byteOffset-=8,n.byteOffset+=8+t._capnp.compositeIndex*U.getByteLength(U.padToWord(A(n)))),n}function _(t){return t.segment.getUint32(t.byteOffset+4)}function h(t){return t.segment.getUint32(t.byteOffset+4)&L.LIST_SIZE_MASK}function m(t){return t.segment.getUint32(t.byteOffset+4)>>>3}function b(t){var e=t.segment.getInt32(t.byteOffset);return 2&e?e>>3:e>>2}function S(t){return t.segment.getUint32(t.byteOffset)&L.POINTER_TYPE_MASK}function O(t){return t.segment.getUint16(t.byteOffset+4)}function I(t){return t.segment.getUint16(t.byteOffset+6)}function A(t){return new U.ObjectSize(8*O(t),I(t))}function P(t){var e=d(t);return e.byteOffset-=8,e}function N(t){return A(P(t))}function C(t){return h(y(t))}function D(t){var e=y(t);return h(e)===c.ListElementSize.COMPOSITE?b(P(t)):m(e)}function B(t){var e=S(y(t));if(e===w.PointerType.FAR)throw Error(v.format(E.PTR_INVALID_FAR_TARGET,t));return e}function F(t){return A(y(t))}function z(t,e,r){if(r.segment!==t){if(n("Initializing far pointer %s -> %s.",r,t),!t.hasCapacity(8)){var i=r.segment.allocate(16);return n("GAH! Initializing double-far pointer in %s from %s -> %s.",r,t,i),G(!0,i.byteOffset/8,i.segment.id,r),G(!1,e/8,t.id,i),i.byteOffset+=8,new R.PointerAllocationResult(i,0)}var o=t.allocate(8);if(o.segment.id!==t.id)throw Error(E.INVARIANT_UNREACHABLE_CODE);return G(!1,o.byteOffset/8,o.segment.id,r),new R.PointerAllocationResult(o,(e-o.byteOffset-8)/8)}return n("Initializing intra-segment pointer %s -> %a.",r,e),new R.PointerAllocationResult(r,(e-r.byteOffset-8)/8)}function x(t){return S(t)===w.PointerType.FAR&&0!=(t.segment.getUint32(t.byteOffset)&L.POINTER_DOUBLE_FAR_MASK)}function V(t){return t.segment.isWordZero(t.byteOffset)}function G(t,e,n,r){var i=w.PointerType.FAR,o=t?1:0,s=e,a=n;r.segment.setUint32(r.byteOffset,i|o<<2|s<<3),r.segment.setUint32(r.byteOffset+4,a)}function W(t,e,n,r,i){var o=w.PointerType.LIST,s=t,a=e,f=n;if(e===c.ListElementSize.COMPOSITE){if(void 0===i)throw new TypeError(E.TYPE_COMPOSITE_SIZE_UNDEFINED);f*=U.getWordLength(i)}r.segment.setUint32(r.byteOffset,o|s<<2),r.segment.setUint32(r.byteOffset+4,a|f<<3)}function k(t,e,n){var r=w.PointerType.STRUCT,i=t,o=U.getDataWordLength(e),s=e.pointerLength;n.segment.setUint32(n.byteOffset,r|i<<2),n.segment.setUint16(n.byteOffset+4,o),n.segment.setUint16(n.byteOffset+6,s)}function j(t,e){if(e._capnp.depthLimit<=0)throw Error(E.PTR_DEPTH_LIMIT_EXCEEDED);var n,i,o,s=d(t),f=C(t),p=D(t);if(f===c.ListElementSize.POINTER){o=e.segment.allocate(p<<3);for(var g=0;g<p;g++){u(new r(s.segment,s.byteOffset+(g<<3),t._capnp.depthLimit-1),new r(o.segment,o.byteOffset+(g<<3),e._capnp.depthLimit-1))}}else if(f===c.ListElementSize.COMPOSITE){if(n=U.padToWord(N(t)),i=U.getByteLength(n),(o=e.segment.allocate(U.getByteLength(n)*p+8)).segment.copyWord(o.byteOffset,s.segment,s.byteOffset-8),n.dataByteLength>0){var l=U.getWordLength(n)*p;o.segment.copyWords(o.byteOffset+8,s.segment,s.byteOffset,l)}for(g=0;g<p;g++)for(var y=0;y<n.pointerLength;y++){var _=g*i+n.dataByteLength+(y<<3);u(new r(s.segment,s.byteOffset+_,t._capnp.depthLimit-1),new r(o.segment,o.byteOffset+_+8,e._capnp.depthLimit-1))}}else{var h=v.padToWord(f===c.ListElementSize.BIT?p+7>>>3:a(f)*p);l=h>>>3;(o=e.segment.allocate(h)).segment.copyWords(o.byteOffset,s.segment,s.byteOffset,l)}var m=z(o.segment,o.byteOffset,e);W(m.offsetWords,f,p,m.pointer,n)}function Y(t,e){if(e._capnp.depthLimit<=0)throw Error(E.PTR_DEPTH_LIMIT_EXCEEDED);var n=d(t),i=F(t),o=U.getDataWordLength(i),s=e.segment.allocate(U.getByteLength(i));s.segment.copyWords(s.byteOffset,n.segment,n.byteOffset,o);for(var a=0;a<i.pointerLength;a++){var f=i.dataByteLength+8*a;u(new r(n.segment,n.byteOffset+f,t._capnp.depthLimit-1),new r(s.segment,s.byteOffset+f,e._capnp.depthLimit-1))}if(!e._capnp.compositeList){var c=z(s.segment,s.byteOffset,e);k(c.offsetWords,i,c.pointer)}}function H(t,e){if(t._capnp.traversalLimit-=8,t._capnp.traversalLimit<=0)throw Error(v.format(E.PTR_TRAVERSAL_LIMIT_EXCEEDED,e))}e.Pointer=r,e.adopt=i,e.disown=o,e.dump=s,e.getListByteLength=function(t,e,n){switch(t){case c.ListElementSize.BIT:return v.padToWord(e+7>>>3);case c.ListElementSize.BYTE:case c.ListElementSize.BYTE_2:case c.ListElementSize.BYTE_4:case c.ListElementSize.BYTE_8:case c.ListElementSize.POINTER:case c.ListElementSize.VOID:return v.padToWord(a(t)*e);case c.ListElementSize.COMPOSITE:if(void 0===n)throw Error(v.format(E.PTR_INVALID_LIST_SIZE,NaN));return e*v.padToWord(U.getByteLength(n));default:throw Error(E.PTR_INVALID_LIST_SIZE)}},e.getListElementByteLength=a,e.add=f,e.copyFrom=u,e.erase=p,e.erasePointer=g,e.followFar=l,e.followFars=y,e.getCapabilityId=function(t){return t.segment.getUint32(t.byteOffset+4)},e.getContent=d,e.getFarSegmentId=_,e.getListElementSize=h,e.getListLength=m,e.getOffsetWords=b,e.getPointerType=S,e.getStructDataWords=O,e.getStructPointerLength=I,e.getStructSize=A,e.getTargetCompositeListTag=P,e.getTargetCompositeListSize=N,e.getTargetListElementSize=C,e.getTargetListLength=D,e.getTargetPointerType=B,e.getTargetStructSize=F,e.initPointer=z,e.isDoubleFar=x,e.isNull=V,e.relocateTo=function(t,e){var n=y(e),r=3&n.segment.getUint8(n.byteOffset),i=n.segment.getUint32(n.byteOffset+4);p(t);var o=z(n.segment,n.byteOffset+8+8*b(n),t);o.pointer.segment.setUint32(o.pointer.byteOffset,r|o.offsetWords<<2),o.pointer.segment.setUint32(o.pointer.byteOffset+4,i),g(e)},e.setFarPointer=G,e.setInterfacePointer=function(t,e){e.segment.setUint32(e.byteOffset,w.PointerType.OTHER),e.segment.setUint32(e.byteOffset+4,t)},e.setListPointer=W,e.setStructPointer=k,e.validate=function(t,e,n){if(!V(e)){var r=y(e);if((r.segment.getUint32(r.byteOffset)&L.POINTER_TYPE_MASK)!==t)throw Error(v.format(E.PTR_WRONG_POINTER_TYPE,e,t));if(void 0!==n)if((r.segment.getUint32(r.byteOffset+4)&L.LIST_SIZE_MASK)!==n)throw Error(v.format(E.PTR_WRONG_LIST_TYPE,e,c.ListElementSize[n]))}},e.copyFromList=j,e.copyFromStruct=Y,e.trackPointerAllocation=H})),D=n(f),B=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:list");n("load");var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.toString=function(){return this._capnp.displayName},e.prototype.all=function(t){for(var e=this.getLength(),n=0;n<e;n++)if(!t(this.get(n),n))return!1;return!0},e.prototype.any=function(t){for(var e=this.getLength(),n=0;n<e;n++)if(t(this.get(n),n))return!0;return!1},e.prototype.ap=function(t){for(var e=this,n=this.getLength(),r=[],i=function(n){r.push.apply(r,t.map((function(t){return t(e.get(n),n)})))},o=0;o<n;o++)i(o);return r},e.prototype.concat=function(t){for(var e=this.getLength(),n=t.getLength(),r=Array(e+n),i=0;i<e;i++)r[i]=this.get(i);for(i=0;i<n;i++)r[i+e]=t.get(i);return r},e.prototype.drop=function(t){for(var e=this.getLength(),n=Array(e),r=t;r<e;r++)n[r]=this.get(r);return n},e.prototype.dropWhile=function(t){for(var e=this.getLength(),n=[],r=!0,i=0;i<e;i++){var o=this.get(i);r&&(r=t(o,i)),r||n.push(o)}return n},e.prototype.empty=function(){return[]},e.prototype.every=function(t){return this.all(t)},e.prototype.filter=function(t){for(var e=this.getLength(),n=[],r=0;r<e;r++){var i=this.get(r);t(i,r)&&n.push(i)}return n},e.prototype.find=function(t){for(var e=this.getLength(),n=0;n<e;n++){var r=this.get(n);if(t(r,n))return r}},e.prototype.findIndex=function(t){for(var e=this.getLength(),n=0;n<e;n++){if(t(this.get(n),n))return n}return-1},e.prototype.forEach=function(t){for(var e=this.getLength(),n=0;n<e;n++)t(this.get(n),n)},e.prototype.get=function(t){return o()},e.prototype.getLength=function(){return C.getTargetListLength(this)},e.prototype.groupBy=function(t){for(var e=this.getLength(),n={},r=0;r<e;r++){var i=this.get(r);n[t(i,r)]=i}return n},e.prototype.intersperse=function(t){for(var e=this.getLength(),n=Array(e),r=0;r<e;r++)r>0&&n.push(t),n.push(this.get(r));return n},e.prototype.map=function(t){for(var e=this.getLength(),n=Array(e),r=0;r<e;r++)n[r]=t(this.get(r),r);return n},e.prototype.reduce=function(t,e){var n,r=0;for(void 0===e?(n=this.get(0),r++):n=e;r<this.getLength();r++)n=t(n,this.get(r),r);return n},e.prototype.set=function(t,e){s()},e.prototype.slice=function(t,e){void 0===t&&(t=0);for(var n=e?Math.min(this.getLength(),e):this.getLength(),r=Array(n-t),i=t;i<n;i++)r[i]=this.get(i);return r},e.prototype.some=function(t){return this.any(t)},e.prototype.take=function(t){for(var e=Math.min(this.getLength(),t),n=Array(e),r=0;r<e;r++)n[r]=this.get(r);return n},e.prototype.takeWhile=function(t){for(var e=this.getLength(),n=[],r=0;r<e;r++){var i=this.get(r);if(!t(i,r))return n;n.push(i)}return n},e.prototype.toArray=function(){return this.map(v.identity)},e.prototype.toString=function(){return"List_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Generic>",size:c.ListElementSize.VOID},e.get=o,e.initList=i,e.set=s,e}(C.Pointer);function i(t,e,r,i){var o;switch(t){case c.ListElementSize.BIT:o=r.segment.allocate(Math.ceil(e/8));break;case c.ListElementSize.BYTE:case c.ListElementSize.BYTE_2:case c.ListElementSize.BYTE_4:case c.ListElementSize.BYTE_8:case c.ListElementSize.POINTER:o=r.segment.allocate(e*C.getListElementByteLength(t));break;case c.ListElementSize.COMPOSITE:if(void 0===i)throw Error(v.format(E.PTR_COMPOSITE_SIZE_UNDEFINED));i=U.padToWord(i);var s=U.getByteLength(i)*e;o=r.segment.allocate(s+8),C.setStructPointer(e,i,o),n("Wrote composite tag word %s for %s.",o,r);break;case c.ListElementSize.VOID:return void C.setListPointer(0,t,e,r);default:throw Error(v.format(E.PTR_INVALID_LIST_SIZE,t))}var a=C.initPointer(o.segment,o.byteOffset,r);C.setListPointer(a.offsetWords,t,e,a.pointer,i)}function o(t,e){throw new TypeError}function s(t,e,n){throw new TypeError}e.List=r,e.initList=i,e.get=o,e.set=s})),F=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load"),e.PointerList=function(t){var e;return(e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return D.__extends(n,e),n.prototype.get=function(e){var n=C.getContent(this);return new t(n.segment,n.byteOffset+8*e,this._capnp.depthLimit-1)},n.prototype.set=function(t,e){C.copyFrom(e,this.get(t))},n.prototype.toString=function(){return"Pointer_"+e.prototype.toString.call(this)+",cls:"+t.toString()},n}(B.List))._capnp={displayName:"List<"+t._capnp.displayName+">",size:c.ListElementSize.POINTER},e}})),z=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AnyPointerList=F.PointerList(C.Pointer)})),x=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=1<<t%8,n=t>>>3,r=C.getContent(this);return 0!=(r.segment.getUint8(r.byteOffset+n)&e)},e.prototype.set=function(t,e){var n=1<<t%8,r=C.getContent(this),i=r.byteOffset+(t>>>3),o=r.segment.getUint8(i);r.segment.setUint8(i,e?o|n:o&~n)},e.prototype.toString=function(){return"Bool_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<boolean>",size:c.ListElementSize.BIT},e}(B.List);e.BoolList=n})),V=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load"),e.CompositeList=function(t){var e;return(e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return D.__extends(n,e),n.prototype.get=function(e){return new t(this.segment,this.byteOffset,this._capnp.depthLimit-1,e)},n.prototype.set=function(t,e){C.copyFrom(e,this.get(t))},n.prototype.toString=function(){return"Composite_"+e.prototype.toString.call(this)+",cls:"+t.toString()},n}(B.List))._capnp={compositeSize:t._capnp.size,displayName:"List<"+t._capnp.displayName+">",size:c.ListElementSize.COMPOSITE},e}})),G=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:data");n("load");var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.fromPointer=function(t){return C.validate(w.PointerType.LIST,t,c.ListElementSize.BYTE),this._fromPointerUnchecked(t)},e._fromPointerUnchecked=function(t){return new this(t.segment,t.byteOffset,t._capnp.depthLimit)},e.prototype.copyBuffer=function(t){var e=C.getContent(this),r=this.getLength(),i=t.byteLength,o=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i)),s=new Uint8Array(e.segment.buffer,e.byteOffset,this.getLength());s.set(o),r>i?(n("Zeroing out remaining %d bytes after copy into %s.",r-i,this),s.fill(0,i,r)):r<i&&n("Truncated %d bytes from source buffer while copying to %s.",i-r,this)},e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getUint8(e.byteOffset+t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setUint8(n.byteOffset+t,e)},e.prototype.toArrayBuffer=function(){var t=C.getContent(this);return t.segment.buffer.slice(t.byteOffset,t.byteOffset+this.getLength())},e.prototype.toDataView=function(){var t=C.getContent(this);return new DataView(t.segment.buffer,t.byteOffset,this.getLength())},e.prototype.toString=function(){return"Data_"+t.prototype.toString.call(this)},e.prototype.toUint8Array=function(){var t=C.getContent(this);return new Uint8Array(t.segment.buffer,t.byteOffset,this.getLength())},e}(B.List);e.Data=r})),W=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataList=F.PointerList(G.Data)})),k=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getFloat32(e.byteOffset+4*t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setFloat32(n.byteOffset+4*t,e)},e.prototype.toString=function(){return"Float32_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Float32>",size:c.ListElementSize.BYTE_4},e}(B.List);e.Float32List=n})),j=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getFloat64(e.byteOffset+8*t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setFloat64(n.byteOffset+8*t,e)},e.prototype.toString=function(){return"Float64_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Float64>",size:c.ListElementSize.BYTE_8},e}(B.List);e.Float64List=n})),Y=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getInt8(e.byteOffset+t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setInt8(n.byteOffset+t,e)},e.prototype.toString=function(){return"Int8_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Int8>",size:c.ListElementSize.BYTE},e}(B.List);e.Int8List=n})),H=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getInt16(e.byteOffset+2*t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setInt16(n.byteOffset+2*t,e)},e.prototype.toString=function(){return"Int16_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Int16>",size:c.ListElementSize.BYTE_2},e}(B.List);e.Int16List=n})),Z=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getInt32(e.byteOffset+4*t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setInt32(n.byteOffset+4*t,e)},e.prototype.toString=function(){return"Int32_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Int32>",size:c.ListElementSize.BYTE_4},e}(B.List);e.Int32List=n})),X=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getInt64(e.byteOffset+8*t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setInt64(n.byteOffset+8*t,e)},e.prototype.toString=function(){return"Int64_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Int64>",size:c.ListElementSize.BYTE_8},e}(B.List);e.Int64List=n})),K=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e,n,r){void 0===r&&(r=L.MAX_DEPTH);t.call(this,e,n,r);throw Error(v.format(E.NOT_IMPLEMENTED,"new Interface"))}return D.__extends(e,t),e}(C.Pointer);e.Interface=n})),q=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.InterfaceList=F.PointerList(K.Interface)})),J=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:uint64");n("load");var r=function(){function t(t){if(t.byteLength<8)throw new RangeError(E.RANGE_INT64_UNDERFLOW);this.buffer=t}return t.fromArrayBuffer=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?new Uint8Array(t,e,8):new Uint8Array(t.slice(e,e+8)))},t.fromDataView=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?new Uint8Array(t.buffer,t.byteOffset+e,8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteLength+e+8)))},t.fromHexString=function(e){if("0x"===e.substr(0,2)&&(e=e.substr(2)),e.length<1)return t.fromNumber(0);if("-"===e[0])throw new RangeError("Source must not be negative.");if(16!==(e=v.pad(e,16)).length)throw new RangeError("Source string must contain at most 16 hexadecimal digits.");for(var n=e.toLowerCase().replace(/[^\da-f]/g,""),r=new Uint8Array(new ArrayBuffer(8)),i=0;i<8;i++)r[7-i]=parseInt(n.substr(2*i,2),16);return new t(r)},t.fromNumber=function(t){var e=new this(new Uint8Array(8));return e.setValue(t),e},t.fromUint8Array=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?t.subarray(e,e+8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteOffset+e+8)))},t.prototype.equals=function(t){for(var e=0;e<8;e++)if(this.buffer[e]!==t.buffer[e])return!1;return!0},t.prototype.inspect=function(){return"[Uint64 "+this.toString(10)+" 0x"+this.toHexString()+"]"},t.prototype.isZero=function(){for(var t=0;t<8;t++)if(0!==this.buffer[t])return!1;return!0},t.prototype.setValue=function(t,e){var n=t,r=e;if(void 0===r){if(n=(r=Math.abs(r=n))%L.VAL32,(r/=L.VAL32)>L.VAL32)throw new RangeError(t+" is outside Uint64 range");r>>>=0}for(var i=0;i<8;i++)this.buffer[i]=255&n,n=3===i?r:n>>>8},t.prototype.toNumber=function(t){for(var e=this.buffer,r=0,i=0,o=1;i<8;){r+=e[i]*o,o*=256,i++}return!t&&r>=L.MAX_SAFE_INTEGER?(n("Coercing out of range value %d to Infinity.",r),1/0):r},t.prototype.valueOf=function(){return this.toNumber(!1)},t.prototype.toArrayBuffer=function(){return this.buffer.buffer},t.prototype.toDataView=function(){return new DataView(this.buffer.buffer)},t.prototype.toHexString=function(){for(var t="",e=7;e>=0;e--){var n=this.buffer[e].toString(16);1===n.length&&(n="0"+n),t+=n}return t},t.prototype.toString=function(t){return this.toNumber(!0).toString(t)},t.prototype.toUint8Array=function(){return this.buffer},t}();e.Uint64=r})),$=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:int64");n("load");var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.fromArrayBuffer=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?new Uint8Array(t,e,8):new Uint8Array(t.slice(e,e+8)))},e.fromDataView=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?new Uint8Array(t.buffer,t.byteOffset+e,8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteLength+e+8)))},e.fromNumber=function(t){var e=new this(new Uint8Array(8));return e.setValue(t),e},e.fromHexString=function(t){if("0x"===t.substr(0,2)&&(t=t.substr(2)),t.length<1)return e.fromNumber(0);var n="-"===t[0];if(n&&(t=t.substr(1)),16!==(t=v.pad(t,16)).length)throw new RangeError("Source string must contain at most 16 hexadecimal digits.");for(var r=t.toLowerCase().replace(/[^\da-f]/g,""),i=new Uint8Array(new ArrayBuffer(8)),o=0;o<8;o++)i[7-o]=parseInt(r.substr(2*o,2),16);var s=new e(i);return n&&s.negate(),s},e.fromUint8Array=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),new this(n?t.subarray(e,e+8):new Uint8Array(t.buffer.slice(t.byteOffset+e,t.byteOffset+e+8)))},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)},e.prototype.inspect=function(){return"[Int64 "+this.toString(10)+" 0x"+this.toHexString()+"]"},e.prototype.negate=function(){for(var t=this.buffer,e=1,n=0;n<8;n++){var r=(255^t[n])+e;t[n]=255&r,e=r>>8}},e.prototype.setValue=function(t,e){var n=!1,r=t,i=e;if(void 0===i){if(n=(i=r)<0,r=(i=Math.abs(i))%L.VAL32,(i/=L.VAL32)>L.VAL32)throw new RangeError(t+" is outside Int64 range");i>>>=0}for(var o=0;o<8;o++)this.buffer[o]=255&r,r=3===o?i:r>>>8;n&&this.negate()},e.prototype.toHexString=function(){var t=this.buffer,e=128&t[7];e&&this.negate();for(var n="",r=7;r>=0;r--){var i=t[r].toString(16);1===i.length&&(i="0"+i),n+=i}return e&&(this.negate(),n="-"+n),n},e.prototype.toNumber=function(t){for(var e=this.buffer,r=128&e[7],i=0,o=1,s=0,a=1;s<8;){var f=e[s];r&&(o=(f=(255^f)+o)>>8,f&=255),i+=f*a,a*=256,s++}return!t&&i>=L.MAX_SAFE_INTEGER?(n("Coercing out of range value %d to Infinity.",i),r?-1/0:1/0):r?-i:i},e}(J.Uint64);e.Int64=r})),Q=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Int64=$.Int64,e.Uint64=J.Uint64})),tt=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:text");n("load");var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.fromPointer=function(t){return C.validate(w.PointerType.LIST,t,c.ListElementSize.BYTE),i(t)},e.prototype.get=function(t){if(void 0===t&&(t=0),0!==t&&n("Called get() on %s with a strange index (%d).",this,t),C.isNull(this))return"";var e=C.getContent(this);return v.decodeUtf8(new Uint8Array(e.segment.buffer,e.byteOffset+t,this.getLength()-t))},e.prototype.getLength=function(){return t.prototype.getLength.call(this)-1},e.prototype.set=function(t,e){0!==t&&n("Called set() on %s with a strange index (%d).",this,t);var r,i,o=v.encodeUtf8(e),s=o.byteLength+t;if(!C.isNull(this)){r=C.getContent(this);var a=this.getLength();a>=t?a=t:n("%d byte gap exists between original text and new text in %s.",t-a,this),i=new Uint8Array(r.segment.buffer.slice(r.byteOffset,r.byteOffset+Math.min(a,t))),C.erase(this)}B.initList(c.ListElementSize.BYTE,s+1,this),r=C.getContent(this);var f=new Uint8Array(r.segment.buffer,r.byteOffset,s);i&&f.set(i),f.set(o,t)},e.prototype.toString=function(){return"Text_"+t.prototype.toString.call(this)},e}(B.List);function i(t){return new r(t.segment,t.byteOffset,t._capnp.depthLimit)}e.Text=r})),et=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:struct");n("load");var r=new DataView(new ArrayBuffer(8)),i=function(t){function e(e,n,r,i){void 0===r&&(r=L.MAX_DEPTH);var o=t.call(this,e,n,r)||this;return o._capnp.compositeIndex=i,o._capnp.compositeList=void 0!==i,o}return D.__extends(e,t),e.toString=function(){return this._capnp.displayName},e.prototype.toString=function(){return"Struct_"+t.prototype.toString.call(this)+(void 0===this._capnp.compositeIndex?"":",ci:"+this._capnp.compositeIndex)},e._capnp={displayName:"Struct"},e.getAs=f,e.getBit=u,e.getData=p,e.getFloat32=l,e.getFloat64=y,e.getUint8=z,e.getUint16=M,e.getUint32=R,e.getUint64=F,e.getInt8=m,e.getInt16=d,e.getInt32=_,e.getInt64=h,e.getList=b,e.getPointer=S,e.getPointerAs=O,e.getStruct=P,e.getText=N,e.initData=x,e.initList=V,e.initStruct=o,e.initStructAt=s,e.setBit=W,e.setFloat32=k,e.setFloat64=j,e.setUint8=et,e.setUint16=q,e.setUint32=J,e.setUint64=$,e.setInt8=X,e.setInt16=Y,e.setInt32=H,e.setInt64=Z,e.setText=K,e.testWhich=nt,e}(C.Pointer);function o(t,e){if(void 0!==e._capnp.compositeIndex)throw Error(v.format(E.PTR_INIT_COMPOSITE_STRUCT,e));C.erase(e);var n=e.segment.allocate(U.getByteLength(t)),r=C.initPointer(n.segment,n.byteOffset,e);C.setStructPointer(r.offsetWords,t,r.pointer)}function s(t,e,n){var r=O(t,e,n);return o(e._capnp.size,r),r}function a(t,e){var n=A(e),r=C.getContent(e),i=e.segment.allocate(U.getByteLength(t));i.segment.copyWords(i.byteOffset,r.segment,r.byteOffset,Math.min(U.getDataWordLength(n),U.getDataWordLength(t)));var o=C.initPointer(i.segment,i.byteOffset,e);C.setStructPointer(o.offsetWords,t,o.pointer);for(var s=0;s<Math.min(n.pointerLength,t.pointerLength);s++){var a=new C.Pointer(r.segment,r.byteOffset+n.dataByteLength+8*s);if(!C.isNull(a)){var f=C.followFars(a),u=C.getContent(a),p=new C.Pointer(i.segment,i.byteOffset+t.dataByteLength+8*s);C.getTargetPointerType(a)===w.PointerType.LIST&&C.getTargetListElementSize(a)===c.ListElementSize.COMPOSITE&&(u.byteOffset-=8);var g=C.initPointer(u.segment,u.byteOffset,p),l=3&f.segment.getUint8(f.byteOffset),y=f.segment.getUint32(f.byteOffset+4);g.pointer.segment.setUint32(g.pointer.byteOffset,l|g.offsetWords<<2),g.pointer.segment.setUint32(g.pointer.byteOffset+4,y)}}r.segment.fillZeroWords(r.byteOffset,U.getWordLength(n))}function f(t,e){return new t(e.segment,e.byteOffset,e._capnp.depthLimit,e._capnp.compositeIndex)}function u(t,e,n){var r=Math.floor(t/8),i=1<<t%8;rt(r,1,e);var o=g(e),s=o.segment.getUint8(o.byteOffset+r);return void 0===n?0!=(s&i):0!=((s^n.getUint8(0))&i)}function p(t,e,n){it(t,e);var r=I(e);r.byteOffset+=8*t;var i=new G.Data(r.segment,r.byteOffset,e._capnp.depthLimit-1);return C.isNull(i)&&(n?C.Pointer.copyFrom(n,i):B.List.initList(c.ListElementSize.BYTE,0,i)),i}function g(t){return C.getContent(t)}function l(t,e,n){rt(t,4,e);var i=g(e);if(void 0===n)return i.segment.getFloat32(i.byteOffset+t);var o=i.segment.getUint32(i.byteOffset+t)^n.getUint32(0,!0);return r.setUint32(0,o,L.NATIVE_LITTLE_ENDIAN),r.getFloat32(0,L.NATIVE_LITTLE_ENDIAN)}function y(t,e,n){rt(t,8,e);var i=g(e);if(void 0!==n){var o=i.segment.getUint32(i.byteOffset+t)^n.getUint32(0,!0),s=i.segment.getUint32(i.byteOffset+t+4)^n.getUint32(4,!0);return r.setUint32(0,o,L.NATIVE_LITTLE_ENDIAN),r.setUint32(4,s,L.NATIVE_LITTLE_ENDIAN),r.getFloat64(0,L.NATIVE_LITTLE_ENDIAN)}return i.segment.getFloat64(i.byteOffset+t)}function d(t,e,n){rt(t,2,e);var i=g(e);if(void 0===n)return i.segment.getInt16(i.byteOffset+t);var o=i.segment.getUint16(i.byteOffset+t)^n.getUint16(0,!0);return r.setUint16(0,o,L.NATIVE_LITTLE_ENDIAN),r.getInt16(0,L.NATIVE_LITTLE_ENDIAN)}function _(t,e,n){rt(t,4,e);var i=g(e);if(void 0===n)return i.segment.getInt32(i.byteOffset+t);var o=i.segment.getUint32(i.byteOffset+t)^n.getUint16(0,!0);return r.setUint32(0,o,L.NATIVE_LITTLE_ENDIAN),r.getInt32(0,L.NATIVE_LITTLE_ENDIAN)}function h(t,e,n){rt(t,8,e);var i=g(e);if(void 0===n)return i.segment.getInt64(i.byteOffset+t);var o=i.segment.getUint32(i.byteOffset+t)^n.getUint32(0,!0),s=i.segment.getUint32(i.byteOffset+t+4)^n.getUint32(4,!0);return r.setUint32(0,o,L.NATIVE_LITTLE_ENDIAN),r.setUint32(4,s,L.NATIVE_LITTLE_ENDIAN),new Q.Int64(new Uint8Array(r.buffer.slice(0)))}function m(t,e,n){rt(t,1,e);var i=g(e);if(void 0===n)return i.segment.getInt8(i.byteOffset+t);var o=i.segment.getUint8(i.byteOffset+t)^n.getUint8(0);return r.setUint8(0,o),r.getInt8(0)}function b(t,e,r,i){it(t,r);var o=I(r);o.byteOffset+=8*t;var s=new e(o.segment,o.byteOffset,r._capnp.depthLimit-1);if(C.isNull(s))i?C.Pointer.copyFrom(i,s):B.List.initList(e._capnp.size,0,s,e._capnp.compositeSize);else if(void 0!==e._capnp.compositeSize){var a=C.getTargetCompositeListSize(s),f=e._capnp.compositeSize;if(f.dataByteLength>a.dataByteLength||f.pointerLength>a.pointerLength){var u=C.getContent(s),p=C.getTargetListLength(s);n("resizing composite list %s due to protocol upgrade, new size: %d",s,U.getByteLength(f)*p);var g=s.segment.allocate(U.getByteLength(f)*p+8),l=C.initPointer(g.segment,g.byteOffset,s);C.setListPointer(l.offsetWords,e._capnp.size,p,l.pointer,f),C.setStructPointer(p,f,g),g.byteOffset+=8;for(var y=0;y<p;y++){var d=u.byteOffset+y*U.getByteLength(a),_=g.byteOffset+y*U.getByteLength(f);g.segment.copyWords(_,u.segment,d,U.getWordLength(a));for(var h=0;h<a.pointerLength;h++){var m=new C.Pointer(u.segment,d+a.dataByteLength+8*h),T=new C.Pointer(g.segment,_+f.dataByteLength+8*h),L=C.followFars(m),E=C.getContent(m);C.getTargetPointerType(m)===w.PointerType.LIST&&C.getTargetListElementSize(m)===c.ListElementSize.COMPOSITE&&(E.byteOffset-=8);var v=C.initPointer(E.segment,E.byteOffset,T),b=3&L.segment.getUint8(L.byteOffset),S=L.segment.getUint32(L.byteOffset+4);v.pointer.segment.setUint32(v.pointer.byteOffset,b|v.offsetWords<<2),v.pointer.segment.setUint32(v.pointer.byteOffset+4,S)}}u.segment.fillZeroWords(u.byteOffset,U.getWordLength(a)*p)}}return s}function S(t,e){it(t,e);var n=I(e);return n.byteOffset+=8*t,new C.Pointer(n.segment,n.byteOffset,e._capnp.depthLimit-1)}function O(t,e,n){it(t,n);var r=I(n);return r.byteOffset+=8*t,new e(r.segment,r.byteOffset,n._capnp.depthLimit-1)}function I(t){var e=C.getContent(t);return e.byteOffset+=v.padToWord(A(t).dataByteLength),e}function A(t){if(void 0!==t._capnp.compositeIndex){var e=C.getContent(t,!0);return e.byteOffset-=8,C.getStructSize(e)}return C.getTargetStructSize(t)}function P(t,e,r,i){var s=O(t,e,r);if(C.isNull(s))i?C.Pointer.copyFrom(i,s):o(e._capnp.size,s);else{C.validate(w.PointerType.STRUCT,s);var f=C.getTargetStructSize(s);(f.dataByteLength<e._capnp.size.dataByteLength||f.pointerLength<e._capnp.size.pointerLength)&&(n("need to resize child struct %s",s),a(e._capnp.size,s))}return s}function N(t,e,n){var r=tt.Text.fromPointer(S(t,e));return C.isNull(r)&&n&&r.set(0,n),r.get(0)}function M(t,e,n){rt(t,2,e);var r=g(e);return void 0===n?r.segment.getUint16(r.byteOffset+t):r.segment.getUint16(r.byteOffset+t)^n.getUint16(0,!0)}function R(t,e,n){rt(t,4,e);var r=g(e);return void 0===n?r.segment.getUint32(r.byteOffset+t):r.segment.getUint32(r.byteOffset+t)^n.getUint32(0,!0)}function F(t,e,n){rt(t,8,e);var i=g(e);if(void 0===n)return i.segment.getUint64(i.byteOffset+t);var o=i.segment.getUint32(i.byteOffset+t)^n.getUint32(0,!0),s=i.segment.getUint32(i.byteOffset+t+4)^n.getUint32(4,!0);return r.setUint32(0,o,L.NATIVE_LITTLE_ENDIAN),r.setUint32(4,s,L.NATIVE_LITTLE_ENDIAN),new Q.Uint64(new Uint8Array(r.buffer.slice(0)))}function z(t,e,n){rt(t,1,e);var r=g(e);return void 0===n?r.segment.getUint8(r.byteOffset+t):r.segment.getUint8(r.byteOffset+t)^n.getUint8(0)}function x(t,e,n){it(t,n);var r=I(n);r.byteOffset+=8*t;var i=new G.Data(r.segment,r.byteOffset,n._capnp.depthLimit-1);return C.erase(i),B.List.initList(c.ListElementSize.BYTE,e,i),i}function V(t,e,n,r){it(t,r);var i=I(r);i.byteOffset+=8*t;var o=new e(i.segment,i.byteOffset,r._capnp.depthLimit-1);return C.erase(o),B.List.initList(e._capnp.size,n,o,e._capnp.compositeSize),o}function W(t,e,n,r){var i=Math.floor(t/8),o=1<<t%8;rt(i,1,n);var s=g(n),a=s.segment.getUint8(s.byteOffset+i);void 0!==r&&(e=0!=(r.getUint8(0)&o)?!e:e),s.segment.setUint8(s.byteOffset+i,e?a|o:a&~o)}function k(t,e,n,i){rt(t,4,n);var o=g(n);if(void 0===i)o.segment.setFloat32(o.byteOffset+t,e);else{r.setFloat32(0,e,L.NATIVE_LITTLE_ENDIAN);var s=r.getUint32(0,L.NATIVE_LITTLE_ENDIAN)^i.getUint32(0,!0);o.segment.setUint32(o.byteOffset+t,s)}}function j(t,e,n,i){rt(t,8,n);var o=g(n);if(void 0!==i){r.setFloat64(0,e,L.NATIVE_LITTLE_ENDIAN);var s=r.getUint32(0,L.NATIVE_LITTLE_ENDIAN)^i.getUint32(0,!0),a=r.getUint32(4,L.NATIVE_LITTLE_ENDIAN)^i.getUint32(4,!0);return o.segment.setUint32(o.byteOffset+t,s),void o.segment.setUint32(o.byteOffset+t+4,a)}o.segment.setFloat64(o.byteOffset+t,e)}function Y(t,e,n,i){rt(t,2,n);var o=g(n);if(void 0===i)o.segment.setInt16(o.byteOffset+t,e);else{r.setInt16(0,e,L.NATIVE_LITTLE_ENDIAN);var s=r.getUint16(0,L.NATIVE_LITTLE_ENDIAN)^i.getUint16(0,!0);o.segment.setUint16(o.byteOffset+t,s)}}function H(t,e,n,i){rt(t,4,n);var o=g(n);if(void 0===i)o.segment.setInt32(o.byteOffset+t,e);else{r.setInt32(0,e,L.NATIVE_LITTLE_ENDIAN);var s=r.getUint32(0,L.NATIVE_LITTLE_ENDIAN)^i.getUint32(0,!0);o.segment.setUint32(o.byteOffset+t,s)}}function Z(t,e,n,r){rt(t,8,n);var i=g(n);if(void 0===r)i.segment.setInt64(i.byteOffset+t,e);else for(var o=0;o<8;o++)i.segment.setUint8(i.byteOffset+t+o,e.buffer[o]^r.getUint8(o))}function X(t,e,n,i){rt(t,1,n);var o=g(n);if(void 0===i)o.segment.setInt8(o.byteOffset+t,e);else{r.setInt8(0,e);var s=r.getUint8(0)^i.getUint8(0);o.segment.setUint8(o.byteOffset+t,s)}}function K(t,e,n){tt.Text.fromPointer(S(t,n)).set(0,e)}function q(t,e,n,r){rt(t,2,n);var i=g(n);void 0!==r&&(e^=r.getUint16(0,!0)),i.segment.setUint16(i.byteOffset+t,e)}function J(t,e,n,r){rt(t,4,n);var i=g(n);void 0!==r&&(e^=r.getUint32(0,!0)),i.segment.setUint32(i.byteOffset+t,e)}function $(t,e,n,r){rt(t,8,n);var i=g(n);if(void 0===r)i.segment.setUint64(i.byteOffset+t,e);else for(var o=0;o<8;o++)i.segment.setUint8(i.byteOffset+t+o,e.buffer[o]^r.getUint8(o))}function et(t,e,n,r){rt(t,1,n);var i=g(n);void 0!==r&&(e^=r.getUint8(0)),i.segment.setUint8(i.byteOffset+t,e)}function nt(t,e,n,r){if(e!==n)throw Error(v.format(E.PTR_INVALID_UNION_ACCESS,r,t,e,n))}function rt(t,e,n){var r=A(n).dataByteLength;if(t<0||e<0||t+e>r)throw Error(v.format(E.PTR_STRUCT_DATA_OUT_OF_BOUNDS,n,e,t,r))}function it(t,e){var n=A(e).pointerLength;if(t<0||t>=n)throw Error(v.format(E.PTR_STRUCT_POINTER_OUT_OF_BOUNDS,e,t,n))}e.Struct=i,e.initStruct=o,e.initStructAt=s,e.resize=a,e.adopt=function(t,e){if(void 0!==e._capnp.compositeIndex)throw Error(v.format(E.PTR_ADOPT_COMPOSITE_STRUCT,e));C.Pointer.adopt(t,e)},e.disown=function(t){if(void 0!==t._capnp.compositeIndex)throw Error(v.format(E.PTR_DISOWN_COMPOSITE_STRUCT,t));return C.Pointer.disown(t)},e.getAs=f,e.getBit=u,e.getData=p,e.getDataSection=g,e.getFloat32=l,e.getFloat64=y,e.getInt16=d,e.getInt32=_,e.getInt64=h,e.getInt8=m,e.getList=b,e.getPointer=S,e.getPointerAs=O,e.getPointerSection=I,e.getSize=A,e.getStruct=P,e.getText=N,e.getUint16=M,e.getUint32=R,e.getUint64=F,e.getUint8=z,e.initData=x,e.initList=V,e.setBit=W,e.setFloat32=k,e.setFloat64=j,e.setInt16=Y,e.setInt32=H,e.setInt64=Z,e.setInt8=X,e.setPointer=function(t,e,n){C.copyFrom(e,S(t,n))},e.setText=K,e.setUint16=q,e.setUint32=J,e.setUint64=$,e.setUint8=et,e.testWhich=nt,e.checkDataBounds=rt,e.checkPointerBounds=it})),nt=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.byteOffset+=8*t,tt.Text.fromPointer(e).get(0)},e.prototype.set=function(t,e){var n=C.getContent(this);n.byteOffset+=8*t,tt.Text.fromPointer(n).set(0,e)},e.prototype.toString=function(){return"Text_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Text>",size:c.ListElementSize.POINTER},e}(B.List);e.TextList=n})),rt=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getUint8(e.byteOffset+t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setUint8(n.byteOffset+t,e)},e.prototype.toString=function(){return"Uint8_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Uint8>",size:c.ListElementSize.BYTE},e}(B.List);e.Uint8List=n})),it=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getUint16(e.byteOffset+2*t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setUint16(n.byteOffset+2*t,e)},e.prototype.toString=function(){return"Uint16_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Uint16>",size:c.ListElementSize.BYTE_2},e}(B.List);e.Uint16List=n})),ot=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getUint32(e.byteOffset+4*t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setUint32(n.byteOffset+4*t,e)},e.prototype.toString=function(){return"Uint32_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Uint32>",size:c.ListElementSize.BYTE_4},e}(B.List);e.Uint32List=n})),st=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),T.default("capnp:list:composite")("load");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e.prototype.get=function(t){var e=C.getContent(this);return e.segment.getUint64(e.byteOffset+8*t)},e.prototype.set=function(t,e){var n=C.getContent(this);n.segment.setUint64(n.byteOffset+8*t,e)},e.prototype.toString=function(){return"Uint64_"+t.prototype.toString.call(this)},e._capnp={displayName:"List<Uint64>",size:c.ListElementSize.BYTE_8},e}(B.List);e.Uint64List=n})),at=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D.__extends(e,t),e._capnp={displayName:"Void",id:"0",size:new U.ObjectSize(0,0)},e}(et.Struct);e.Void=n,e.VOID=void 0})),ft=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoidList=F.PointerList(at.Void)})),ut=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AnyPointerList=z.AnyPointerList,e.BoolList=x.BoolList,e.CompositeList=V.CompositeList,e.Data=G.Data,e.DataList=W.DataList,e.Float32List=k.Float32List,e.Float64List=j.Float64List,e.Int8List=Y.Int8List,e.Int16List=H.Int16List,e.Int32List=Z.Int32List,e.Int64List=X.Int64List,e.Interface=K.Interface,e.InterfaceList=q.InterfaceList,e.List=B.List,e.Orphan=M.Orphan,e.PointerList=F.PointerList,e.PointerType=w.PointerType,e.Pointer=C.Pointer,e.Struct=et.Struct,e.Text=tt.Text,e.TextList=nt.TextList,e.Uint8List=rt.Uint8List,e.Uint16List=it.Uint16List,e.Uint32List=ot.Uint32List,e.Uint64List=st.Uint64List,e.Void=at.Void,e.VOID=at.VOID,e.VoidList=ft.VoidList})),ct=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:segment");n("load");var r=function(){function t(t,e,n,r){void 0===r&&(r=0),this[Symbol.toStringTag]="Segment",this.id=t,this.message=e,this.buffer=n,this._dv=new DataView(n),this.byteOffset=0,this.byteLength=r}return t.prototype.allocate=function(t){n("allocate(%d)",t);var e=this;if((t=v.padToWord(t))>L.MAX_SEGMENT_LENGTH-8)throw Error(v.format(E.SEG_SIZE_OVERFLOW,t));e.hasCapacity(t)||(e=e.message.allocateSegment(t));var r=e.byteLength;return e.byteLength=e.byteLength+t,n("Allocated %x bytes in %s (requested segment: %s).",t,this,e),new ut.Pointer(e,r)},t.prototype.copyWord=function(t,e,n){var r=e._dv.getFloat64(n,L.NATIVE_LITTLE_ENDIAN);this._dv.setFloat64(t,r,L.NATIVE_LITTLE_ENDIAN)},t.prototype.copyWords=function(t,e,n,r){var i=new Float64Array(this.buffer,t,r),o=new Float64Array(e.buffer,n,r);i.set(o)},t.prototype.fillZeroWords=function(t,e){new Float64Array(this.buffer,t,e).fill(0)},t.prototype.getCapacity=function(){return this.buffer.byteLength},t.prototype.getFloat32=function(t){return this._dv.getFloat32(t,!0)},t.prototype.getFloat64=function(t){return this._dv.getFloat64(t,!0)},t.prototype.getInt16=function(t){return this._dv.getInt16(t,!0)},t.prototype.getInt32=function(t){return this._dv.getInt32(t,!0)},t.prototype.getInt64=function(t){return new Q.Int64(new Uint8Array(this.buffer.slice(t,t+8)))},t.prototype.getInt8=function(t){return this._dv.getInt8(t)},t.prototype.getUint16=function(t){return this._dv.getUint16(t,!0)},t.prototype.getUint32=function(t){return this._dv.getUint32(t,!0)},t.prototype.getUint64=function(t){return new Q.Uint64(new Uint8Array(this.buffer.slice(t,t+8)))},t.prototype.getUint8=function(t){return this._dv.getUint8(t)},t.prototype.hasCapacity=function(t){return n("hasCapacity(%d)",t),this.buffer.byteLength-this.byteLength>=t},t.prototype.isWordZero=function(t){return 0===this._dv.getFloat64(t,L.NATIVE_LITTLE_ENDIAN)},t.prototype.replaceBuffer=function(t){if(n("replaceBuffer(%p)",t),this.buffer!==t){if(t.byteLength<this.byteLength)throw Error(E.SEG_REPLACEMENT_BUFFER_TOO_SMALL);this._dv=new DataView(t),this.buffer=t}},t.prototype.setFloat32=function(t,e){this._dv.setFloat32(t,e,!0)},t.prototype.setFloat64=function(t,e){this._dv.setFloat64(t,e,!0)},t.prototype.setInt16=function(t,e){this._dv.setInt16(t,e,!0)},t.prototype.setInt32=function(t,e){this._dv.setInt32(t,e,!0)},t.prototype.setInt8=function(t,e){this._dv.setInt8(t,e)},t.prototype.setInt64=function(t,e){this._dv.setUint8(t,e.buffer[0]),this._dv.setUint8(t+1,e.buffer[1]),this._dv.setUint8(t+2,e.buffer[2]),this._dv.setUint8(t+3,e.buffer[3]),this._dv.setUint8(t+4,e.buffer[4]),this._dv.setUint8(t+5,e.buffer[5]),this._dv.setUint8(t+6,e.buffer[6]),this._dv.setUint8(t+7,e.buffer[7])},t.prototype.setUint16=function(t,e){this._dv.setUint16(t,e,!0)},t.prototype.setUint32=function(t,e){this._dv.setUint32(t,e,!0)},t.prototype.setUint64=function(t,e){this._dv.setUint8(t+0,e.buffer[0]),this._dv.setUint8(t+1,e.buffer[1]),this._dv.setUint8(t+2,e.buffer[2]),this._dv.setUint8(t+3,e.buffer[3]),this._dv.setUint8(t+4,e.buffer[4]),this._dv.setUint8(t+5,e.buffer[5]),this._dv.setUint8(t+6,e.buffer[6]),this._dv.setUint8(t+7,e.buffer[7])},t.prototype.setUint8=function(t,e){this._dv.setUint8(t,e)},t.prototype.setWordZero=function(t){this._dv.setFloat64(t,0,L.NATIVE_LITTLE_ENDIAN)},t.prototype.toString=function(){return v.format("Segment_id:%d,off:%a,len:%a,cap:%a",this.id,this.byteLength,this.byteOffset,this.buffer.byteLength)},t}();e.Segment=r})),pt=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=T.default("capnp:message");n("load");var r=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this._capnp=i(t,e,r),t&&!a(t)&&s(this),n("new %s",this)}return t.prototype.allocateSegment=function(t){return f(t,this)},t.prototype.dump=function(){return u(this)},t.prototype.getRoot=function(t){return c(t,this)},t.prototype.getSegment=function(t){return p(t,this)},t.prototype.initRoot=function(t){return g(t,this)},t.prototype.setRoot=function(t){y(t,this)},t.prototype.toArrayBuffer=function(){return d(this)},t.prototype.toPackedArrayBuffer=function(){return _(this)},t.prototype.toString=function(){return"Message_arena:"+this._capnp.arena},t.allocateSegment=f,t.dump=u,t.getRoot=c,t.getSegment=p,t.initRoot=g,t.readRawPointer=l,t.toArrayBuffer=d,t.toPackedArrayBuffer=_,t}();function i(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===t)return{arena:new P.SingleSegmentArena,segments:[],traversalLimit:L.DEFAULT_TRAVERSE_LIMIT};if(a(t))return{arena:t,segments:[],traversalLimit:L.DEFAULT_TRAVERSE_LIMIT};var r=t;return function(t){return void 0!==t.byteOffset}(r)&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),e&&(r=N.unpack(r)),n?{arena:new P.SingleSegmentArena(r),segments:[],traversalLimit:L.DEFAULT_TRAVERSE_LIMIT}:{arena:new P.MultiSegmentArena(o(r)),segments:[],traversalLimit:L.DEFAULT_TRAVERSE_LIMIT}}function o(t){var e=new DataView(t),r=e.getUint32(0,!0)+1,i=Array(r);n("reading %d framed segments from stream",r);var o=4+4*r;if((o+=o%8)+4*r>t.byteLength)throw Error(E.MSG_INVALID_FRAME_HEADER);for(var s=0;s<r;s++){var a=8*e.getUint32(4+4*s,!0);if(o+a>t.byteLength)throw Error(E.MSG_INVALID_FRAME_HEADER);i[s]=t.slice(o,o+a),o+=a}return i}function s(t){var e=P.Arena.getNumSegments(t._capnp.arena);if(e<1)throw Error(E.MSG_NO_SEGMENTS_IN_ARENA);t._capnp.segments=Array(e);for(var n=0;n<e;n++){var r=P.Arena.getBuffer(n,t._capnp.arena),i=new ct.Segment(n,t,r,r.byteLength);t._capnp.segments[n]=i}}function a(t){return void 0!==t.kind}function f(t,e){n("allocating %x bytes for %s",t,e);var r,i=P.Arena.allocate(t,e._capnp.segments,e._capnp.arena);if(i.id===e._capnp.segments.length)r=new ct.Segment(i.id,e,i.buffer),n("adding new segment %s",r),e._capnp.segments.push(r);else{if(i.id<0||i.id>e._capnp.segments.length)throw Error(v.format(E.MSG_SEGMENT_OUT_OF_BOUNDS,i.id,e));r=e._capnp.segments[i.id],n("replacing segment %s with buffer (len:%d)",r,i.buffer.byteLength),r.replaceBuffer(i.buffer)}return r}function u(t){var e="";if(0===t._capnp.segments.length)return"================\nNo Segments\n================\n";for(var n=0;n<t._capnp.segments.length;n++){e+="================\nSegment #"+n+"\n================\n";var r=t._capnp.segments[n],i=r.buffer,o=r.byteLength,s=new Uint8Array(i,0,o);e+=v.dumpBuffer(s)}return e}function c(t,e){var r=new t(e.getSegment(0),0);C.validate(ut.PointerType.STRUCT,r);var i=C.getTargetStructSize(r);return(i.dataByteLength<t._capnp.size.dataByteLength||i.pointerLength<t._capnp.size.pointerLength)&&(n("need to resize root struct %s",r),et.resize(t._capnp.size,r)),r}function p(t,e){var n=e._capnp.segments.length;if(0===t&&0===n){if(0===P.Arena.getNumSegments(e._capnp.arena)?f(L.DEFAULT_BUFFER_SIZE,e):e._capnp.segments[0]=new ct.Segment(0,e,P.Arena.getBuffer(0,e._capnp.arena)),!e._capnp.segments[0].hasCapacity(8))throw Error(E.MSG_SEGMENT_TOO_SMALL);return e._capnp.segments[0].allocate(8),e._capnp.segments[0]}if(t<0||t>=n)throw Error(v.format(E.MSG_SEGMENT_OUT_OF_BOUNDS,t,e));return e._capnp.segments[t]}function g(t,e){var r=new t(e.getSegment(0),0);return et.initStruct(t._capnp.size,r),n("Initialized root pointer %s for %s.",r,e),r}function l(t){return new ut.Pointer(new r(t).getSegment(0),0)}function y(t,e){ut.Pointer.copyFrom(t,new ut.Pointer(e.getSegment(0),0))}function d(t){var e=h(t);0===t._capnp.segments.length&&p(0,t);var n=t._capnp.segments,r=e.byteLength+n.reduce((function(t,e){return t+v.padToWord(e.byteLength)}),0),i=new Uint8Array(new ArrayBuffer(r)),o=e.byteLength;return i.set(new Uint8Array(e)),n.forEach((function(t){var e=v.padToWord(t.byteLength);i.set(new Uint8Array(t.buffer,0,e),o),o+=e})),i.buffer}function _(t){var e=N.pack(h(t));0===t._capnp.segments.length&&t.getSegment(0);var n=t._capnp.segments.map((function(t){return N.pack(t.buffer,0,v.padToWord(t.byteLength))})),r=e.byteLength+n.reduce((function(t,e){return t+e.byteLength}),0),i=new Uint8Array(new ArrayBuffer(r)),o=e.byteLength;return i.set(new Uint8Array(e)),n.forEach((function(t){i.set(new Uint8Array(t),o),o+=t.byteLength})),i.buffer}function h(t){var e=t._capnp.segments.length;if(0===e)return new Float64Array(1).buffer;var r=new DataView(new ArrayBuffer(4+4*e+4*(1-e%2)));return n("Writing message stream frame with segment count: %d.",e),r.setUint32(0,e-1,!0),t._capnp.segments.forEach((function(t,e){n("Message segment %d word count: %d.",t.id,t.byteLength/8),r.setUint32(4*e+4,t.byteLength/8,!0)})),r.buffer}e.Message=r,e.initMessage=i,e.getFramedSegments=o,e.preallocateSegments=s,e.allocateSegment=f,e.dump=u,e.getRoot=c,e.getSegment=p,e.initRoot=g,e.readRawPointer=l,e.setRoot=y,e.toArrayBuffer=d,e.toPackedArrayBuffer=_,e.getStreamFrame=h})),gt=e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),D.__exportStar(u,e),e.ListElementSize=c.ListElementSize,e.Message=pt.Message,e.readRawPointer=pt.readRawPointer,e.ObjectSize=U.ObjectSize,D.__exportStar(ut,e)})),lt=t(e((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ListElementSize=gt.ListElementSize,e.Message=gt.Message,e.ObjectSize=gt.ObjectSize,e.readRawPointer=gt.readRawPointer,e.AnyPointerList=gt.AnyPointerList,e.BoolList=gt.BoolList,e.CompositeList=gt.CompositeList,e.Data=gt.Data,e.DataList=gt.DataList,e.Float32List=gt.Float32List,e.Float64List=gt.Float64List,e.Int16List=gt.Int16List,e.Int32List=gt.Int32List,e.Int64List=gt.Int64List,e.Int8List=gt.Int8List,e.Interface=gt.Interface,e.InterfaceList=gt.InterfaceList,e.List=gt.List,e.Orphan=gt.Orphan,e.PointerList=gt.PointerList,e.PointerType=gt.PointerType,e.Pointer=gt.Pointer,e.Struct=gt.Struct,e.Text=gt.Text,e.TextList=gt.TextList,e.Uint16List=gt.Uint16List,e.Uint32List=gt.Uint32List,e.Uint64List=gt.Uint64List,e.Uint8List=gt.Uint8List,e.VoidList=gt.VoidList,e.Void=gt.Void,e.getBitMask=gt.getBitMask,e.getFloat32Mask=gt.getFloat32Mask,e.getFloat64Mask=gt.getFloat64Mask,e.getInt16Mask=gt.getInt16Mask,e.getInt32Mask=gt.getInt32Mask,e.getInt64Mask=gt.getInt64Mask,e.getInt8Mask=gt.getInt8Mask,e.getUint16Mask=gt.getUint16Mask,e.getUint32Mask=gt.getUint32Mask,e.getUint64Mask=gt.getUint64Mask,e.getUint8Mask=gt.getUint8Mask,e.Int64=Q.Int64,e.Uint64=Q.Uint64})));export default lt;
